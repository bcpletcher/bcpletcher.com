@import "tailwindcss";

@theme {
}

@layer components {
  .transition-standard {
    @apply transition-all ease-in-out duration-300;
  }

  /* Generic keyboard focus style (uniform offset) */
  .kbd-focus {
    @apply focus:outline-none;
    outline: none;
  }

  .kbd-focus:focus-visible {
    outline: 2px dotted theme(colors.sky.300);
    outline-offset: 0.25rem;
    border-radius: 0.125rem;
  }

  .card-interactive-link {
    outline: none;
    position: relative;
  }

  .card-interactive-link:focus-visible::after {
    content: "";
    position: absolute;
    pointer-events: none;
    top: -.75rem;
    bottom: -.75rem;
    left: -1.25rem;
    right: -1.25rem;

    border: 2px dotted theme(colors.sky.300);
    border-radius: 0.5rem;
  }

  /* Subtle, modern micro-interaction: quick pulse + tiny wiggle */
  @keyframes gallery-pulse-wiggle {
    0% {
      transform: translateZ(0) scale(1) rotate(0deg);
    }
    35% {
      transform: translateZ(0) scale(1.18) rotate(-6deg);
    }
    70% {
      transform: translateZ(0) scale(1.08) rotate(3deg);
    }
    100% {
      transform: translateZ(0) scale(1.12) rotate(-2deg);
    }
  }

  .gallery-icon-wiggle {
    transform-origin: 55% 55%;
  }

  @media (prefers-reduced-motion: no-preference) {
    .group:hover .gallery-icon-wiggle,
    .group:focus-within .gallery-icon-wiggle {
      animation: gallery-pulse-wiggle 420ms cubic-bezier(0.2, 0.9, 0.2, 1) 1;
    }
  }

  @media (min-width: 1024px) {
    .peer:focus-visible ~ .card-interactive-bg {
      background-color: rgb(30 41 59 / 0.5); /* slate-800/50 */
      box-shadow: inset 0 1px 0 0 rgba(148, 163, 184, 0.1);
      filter: drop-shadow(0 10px 15px rgba(0, 0, 0, 0.3));
    }
  }
}
